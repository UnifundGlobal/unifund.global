(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{k5u1:function(e,t,s){"use strict";s.r(t),s.d(t,"LeaderboardsModule",(function(){return g}));var l=s("ofXK"),r=s("tyNb"),n=s("z6cu"),a=s("fXoL"),o=s("uhci"),i=s("kECv"),d=s("sYmb");const c=function(e){return{"text-center":e}};let u=(()=>{class e{constructor(){this.isCentered=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-text-section"]],inputs:{headline:"headline",sub:"sub",isCentered:"isCentered"},decls:7,vars:12,consts:[[1,"text-section"],[3,"ngClass"],[1,"sub",3,"ngClass"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h1",1),a.Bc(2),a.dc(3,"translate"),a.Ob(),a.Pb(4,"p",2),a.Bc(5),a.dc(6,"translate"),a.Ob(),a.Ob()),2&e&&(a.xb(1),a.ic("ngClass",a.mc(8,c,t.isCentered)),a.xb(1),a.Cc(a.ec(3,4,t.headline)),a.xb(2),a.ic("ngClass",a.mc(10,c,t.isCentered)),a.xb(1),a.Cc(a.ec(6,6,t.sub)))},directives:[l.j],pipes:[d.c],styles:[".text-section[_ngcontent-%COMP%]{padding:2.4rem 0}@media (min-width:768px){.text-section[_ngcontent-%COMP%]{padding:3.6rem 0}}@media (min-width:992px){.text-section[_ngcontent-%COMP%]{padding:4.8rem 0}}@media (min-width:1200px){.text-section[_ngcontent-%COMP%]{padding:6rem 0}}"]}),e})();var b=s("9YO0");const h=[{path:"",component:(()=>{class e{constructor(e,t,s){this.leaderboardsService=e,this.decimalPipe=t,this.tableService=s,this.leaderboards=[],this.leaderboardsTableEntries=[[]],this.tableHeader=[{key:"idx",value:"#",classes:"col-1"},{key:"title",value:"name",classes:"col d-xl-flex"},{key:"totalContributions",value:"total contribution",classes:"col d-none d-md-flex t-right"},{key:"currentEth",value:"current eth",classes:"col d-md-flex t-right"},{key:"pnlETH",value:"pnl",classes:"col d-md-flex t-right"},{key:"dailyPnlETH",value:"dailypnlEth",classes:"col d-none d-md-flex t-right"},{key:"weeklyPnlETH",value:"weeklypnlEth",classes:"col d-none d-xl-flex t-right"},{key:"goto",value:"",classes:"col d-xl-flex justify-content-end"}],this.sortOrder="ASC",this.sortedByKey={key:"",direction:""},this.handleSuccess=e=>{console.log("service response leaderboards: ",e),this.leaderboards=e.sort((e,t)=>e.pnl.eth.allTime<t.pnl.eth.allTime?1:-1);let t=1;this.leaderboards.forEach(e=>{e.indexNumber=t,t++}),this.leaderboardsTableEntries=this.mapToTableCols(e),console.log(this.leaderboardsTableEntries)}}ngOnInit(){this.leaderboardsService.getLeaderboardsData().pipe().subscribe({next:this.handleSuccess,error:this.handleError})}handleError(e){return console.log(e),Object(n.a)(e)}mapToTableCols(e){return e.map((e,t)=>[{key:"idx",value:e.indexNumber,classes:"col-1"},{key:"title",value:e.title,classes:"col d-xl-flex"},{key:"totalContributions",value:""+e.totalContributions,classes:"col d-none d-md-flex text-right"},{key:"currentEth",value:this.getCurrentEth(e),classes:"col d-md-flex text-right"},{key:"pnlETH",value:this.getPnlValue(e),classes:"col d-md-flex text-right"},{key:"dailyPnlETH",value:this.getPnlValueDaily(e),classes:"col d-none d-md-flex text-right"},{key:"weeklyPnlETH",value:this.getPnlValueWeekly(e),classes:"col d-none d-xl-flex text-right"},{key:"goto",value:"https://app.unifund.global/#/group/"+e.index+"/v/2/details",classes:"col justify-content-end"},{key:"manager",value:e.leader,classes:"col justify-content-end"}])}getPnlValue(e){return this.roundToTwo(100*(e.pnl.eth.allTime-1))}getPnlValueDaily(e){return this.roundToTwo(100*(e.pnl.eth.daily-1))}getPnlValueWeekly(e){return this.roundToTwo(100*(e.pnl.eth.weekly-1))}roundToTwo(e){return Math.round(100*e+Number.EPSILON)/100}getCurrentEth(e){return this.roundToTwo(e.pnl.eth.allTime*e.totalContributions)}getCurrentDollarPnl(e){return this.roundToTwo(100*(e[5].value-1))}transformToTwoDecimalPlaces(e){return this.decimalPipe.transform(e,"1.2-2")}onTableHeaderClicked(e){console.log("Table header col: ",e);const t="ASC"===this.sortOrder;this.sortOrder=t?"DESC":"ASC",this.sortedByKey={key:e,direction:this.sortOrder};const s=this.leaderboards.map(e=>e),l=this.tableService.sortBy(s,t=>t[e],t);console.log("sorted: ",l),this.leaderboardsTableEntries=this.mapToTableCols(l),console.log("leaderboards after: ",this.leaderboardsTableEntries)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(o.a),a.Kb(l.d),a.Kb(i.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-leaderboards"]],decls:7,vars:9,consts:[["id","token",1,"h-100"],[1,"container-lg"],[3,"headline","sub"],[1,"col"],[3,"sort","header","entries","headerClicked"]],template:function(e,t){1&e&&(a.Pb(0,"section",0),a.Pb(1,"div",1),a.Lb(2,"app-text-section",2),a.dc(3,"translate"),a.dc(4,"translate"),a.Pb(5,"div",3),a.Pb(6,"app-table",4),a.ac("headerClicked",(function(e){return t.onTableHeaderClicked(e)})),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(2),a.ic("headline",a.ec(3,5,"Unifund leaderboards"))("sub",a.ec(4,7,"leaderboards-sub")),a.xb(4),a.ic("sort",t.sortedByKey)("header",t.tableHeader)("entries",t.leaderboardsTableEntries))},directives:[u,b.a],pipes:[d.c],styles:[""]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(h)],r.e]}),e})();var y=s("4V29"),m=s("LrK5");let g=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[l.d],imports:[[l.b,p,y.a,d.b,m.a]]}),e})()}}]);